[[source]]
name = "pypi"
url = "https://pypi.org/simple"
verify_ssl = true

[requires]
python_version = "3.7"

[packages]
flask = "~=1.1.1"
tensorflowjs = "==1.0.1"
"tf-nightly-2.0-preview" = "==2.0.0.dev20190715"
"tensorflow-estimator-2.0-preview" = "==1.14.0.dev2019071500"
numpy = "==1.15.1" # Locked by tensorflowjs
flask-pbj = { git = "https://github.com/rrbutani/flask-pbj.git", ref = "0.2.3" }
protobuf = "~=3.9.0"

[dev-packages]
pytest = "~=5.0.1"
black = "~=19.3b0"
mypy = "~=0.720"
isort = { version = "~=4.3.21", extras = ["pyproject"] }
mypy-protobuf = "~=1.12"
tensorflow-stubs = { git = "https://github.com/rrbutani/tensorflow-stubs", ref = "a293b6022e9aa972c24a70f74784fcec24f8ce9e" }
numpy-stubs = { git = "https://github.com/numpy/numpy-stubs", ref = "a57ec5671096cf59530dcda21a93c0d880cc759e" }
setuptools = "~=41.0.1"

[pipenv]
allow_prereleases = true

[scripts]
deps = "scripts/install"
dev-deps = "scripts/install-dev"
fetch = "scripts/fetch"
build = "scripts/build"
clean = "scripts/clean"
run = "scripts/with install build fetch -- 'python -m server'"
format = "scripts/fmt" # black+isort, tsfmt+tslint
lint = "scripts/lint"  # mypy, tslint
test = "scripts/test"  # pytest, jest
check = "scripts/with install-dev install build -- check-fmt lint"
watch = "scripts/watch"
